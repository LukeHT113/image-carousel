{"version":3,"file":"carousel/view.js","mappings":"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","sources":["webpack://image-carousel/./src/carousel/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n/* eslint-disable no-console */\nconst carousels = document.querySelectorAll('.wp-block-lht-carousel');\n\nfor (let index = 0; index < carousels.length; index++) {\n\nconst carousel = carousels[index];\nconst slides = carousel.querySelectorAll('.wp-block-lht-slide');\n\nlet currentIndex = 0;\nlet slidesToShow = +carousel.dataset.slidestoshow;\nconst slideSpeed = +carousel.dataset.speed;\nconst gap = +carousel.dataset.gap;\nconst dots = carousel.dataset.dots === 'true' ? true : false;\nconst reverse = carousel.dataset.reverse === 'true' ? true : false;\nconst arrows = carousel.dataset.arrows === 'true' ? true : false;\nconst autoplay = carousel.dataset.autoplay === 'true' ? true : false;\nconst responsiveWidth = carousel.dataset.responsivewidth;\nconst responsiveSlidesToShow = carousel.dataset.responsiveslidestoshow;\nconst autoplaySpeed = +carousel.dataset.autoplayspeed;\nconst slidesCount = slides.length;\n\nfor (let i = 0; i < slides.length; i++) {\n  const slide = slides[i];\n  slide.style.transitionDuration = `${slideSpeed / 1000}s`\n}\n\nif (autoplay) {\n  autoplayInterval = setInterval(incrementSlide, autoplaySpeed);\n}\n\nif (dots) {\n  createDots();\n}\n\nif (arrows) {\n  const prevArrow = carousel.querySelector('.lht-carousel-arrow-prev');\n  const nextArrow = carousel.querySelector('.lht-carousel-arrow-next');\n  prevArrow.addEventListener('click', () => {\n    decrementSlide();\n    clearInterval(autoplayInterval);\n  });\n  nextArrow.addEventListener('click', () => {\n    incrementSlide();\n    clearInterval(autoplayInterval);\n  });\n}\n\nif (slidesToShow !== responsiveSlidesToShow && window.innerWidth <= responsiveWidth) {\n  carousel.classList.remove(`lht-shows-${slidesToShow}-slides`);\n  carousel.classList.add(`lht-shows-${responsiveSlidesToShow}-slides`);\n  slidesToShow = responsiveSlidesToShow;\n  createDots();\n}\nif (slidesToShow !== responsiveSlidesToShow) {\n  window.addEventListener('resize', () => {\n    if (window.innerWidth <= responsiveWidth) {\n      if (slidesToShow === responsiveSlidesToShow) {\n        return\n      }\n      carousel.classList.remove(`lht-shows-${slidesToShow}-slides`);\n      carousel.classList.add(`lht-shows-${responsiveSlidesToShow}-slides`);\n      slidesToShow = responsiveSlidesToShow;\n      createDots();\n      if (currentIndex > slidesCount - slidesToShow) {\n        setToIndex(slidesCount - slidesToShow);\n      } else {\n        setToIndex(currentIndex);\n      }\n    } else {\n      if (slidesToShow != +carousel.dataset.slidestoshow) {\n        slidesToShow = +carousel.dataset.slidestoshow;\n        carousel.classList.remove(`lht-shows-${responsiveSlidesToShow}-slides`);\n        carousel.classList.add(`lht-shows-${slidesToShow}-slides`);\n        createDots();\n        if (currentIndex > slidesCount - slidesToShow) {\n          setToIndex(slidesCount - slidesToShow);\n        }  else {\n          setToIndex(currentIndex);\n        }\n      }\n    }\n  })\n}\n\nfunction incrementSlide() {\n  currentIndex++;\n  if (currentIndex > slidesCount - slidesToShow) {\n    currentIndex = 0;\n  }\n  if (dots) {\n    const allDots = carousel.querySelectorAll('.lht-dot');\n    for (let i = 0; i < allDots.length; i++) {\n      const dot = allDots[i];\n      if (i == currentIndex) {\n        dot.classList.add('active-dot');\n      } else {\n        dot.classList.remove('active-dot');\n      }\n    }\n  }\n  updateSlide();\n}\n\nfunction decrementSlide() {\n  currentIndex--;\n  if (currentIndex < 0) {\n    currentIndex = slidesCount-slidesToShow;\n  }\n  if (dots) {\n    const allDots = carousel.querySelectorAll('.lht-dot');\n    for (let i = 0; i < allDots.length; i++) {\n      const dot = allDots[i];\n      if (i == currentIndex) {\n        dot.classList.add('active-dot');\n      } else {\n        dot.classList.remove('active-dot');\n      }\n    }\n  }\n  updateSlide();\n}\n\nfunction setToIndex(index) {\n  currentIndex = index;\n  if (dots) {\n    const allDots = carousel.querySelectorAll('.lht-dot');\n    for (let i = 0; i < allDots.length; i++) {\n      const dot = allDots[i];\n      if (i == currentIndex) {\n        dot.classList.add('active-dot');\n      } else {\n        dot.classList.remove('active-dot');\n      }\n    }\n  }\n  updateSlide();\n}\n\nfunction updateSlide() {\n  for (let i = 0; i < slides.length; i++) {\n    const slide = slides[i];\n    slide.style.transform = `translateX(calc(${reverse ? '' : '-'}${currentIndex * 100}% - ${currentIndex*gap}px))`;\n  }\n}\n\nfunction createDots() {\n  const dotContainer = carousel.querySelector('.lht-carousel-dots');\n  dotContainer.innerHTML = '';\n  if (slides.length - slidesToShow < 0) {\n    const li = document.createElement(\"li\");\n    const dot = document.createElement(\"button\");\n    dot.classList.add('lht-dot');\n    dot.classList.add('active-dot')\n    dot.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"dot-svg\" viewBox=\"0 0 48 48\"><path stroke-width=\"4\" d=\"M24 33a9 9 0 1 0 0-18a9 9 0 0 0 0 18Z\"/></svg>';\n    dot.addEventListener('click', () => {\n      setToIndex(0);\n      clearInterval(autoplayInterval);\n    })\n    li.appendChild(dot);\n    dotContainer.appendChild(li);\n  } else {\n    for (let i = 0; i <= slides.length - slidesToShow; i++) {\n      const li = document.createElement(\"li\");\n      const dot = document.createElement(\"button\");\n      dot.classList.add('lht-dot');\n      if (i == 0) {\n        dot.classList.add('active-dot')\n      }\n      dot.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"dot-svg\" viewBox=\"0 0 48 48\"><path stroke-width=\"4\" d=\"M24 33a9 9 0 1 0 0-18a9 9 0 0 0 0 18Z\"/></svg>';\n      dot.addEventListener('click', () => {\n        setToIndex(i);\n        clearInterval(autoplayInterval);\n      })\n      li.appendChild(dot);\n      dotContainer.appendChild(li);\n    }\n  }\n}\n\n}"],"names":["carousels","document","querySelectorAll","index","length","carousel","slides","currentIndex","slidesToShow","dataset","slidestoshow","slideSpeed","speed","gap","dots","reverse","arrows","autoplay","responsiveWidth","responsivewidth","responsiveSlidesToShow","responsiveslidestoshow","autoplaySpeed","autoplayspeed","slidesCount","i","slide","style","transitionDuration","autoplayInterval","setInterval","incrementSlide","createDots","prevArrow","querySelector","nextArrow","addEventListener","decrementSlide","clearInterval","window","innerWidth","classList","remove","add","setToIndex","allDots","dot","updateSlide","transform","dotContainer","innerHTML","li","createElement","appendChild"],"sourceRoot":""}